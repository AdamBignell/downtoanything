<h1>
    <%= @challenge.name %>
    <small class="text-muted h6">Created by <%= link_to @user.username, @user %></small>
    <small class="h6"><%= link_to 'Edit', edit_challenge_path(@challenge) %></small>
</h1>

<%= link_to 'New Submission', new_challenge_submission_path(@challenge) %>
<br><br>
<h4 class="card-title">Submissions:</h4>
<div class="card-deck-wrapper mt-2">
  <div class="card-deck">
  <% @challsubmissions.each do |submission| %>
      <div class="card submission" data-url="<%= challenge_submission_path(@challenge, submission)%>">
          <div class="card-block">
             <small class="h6"><p class="floatright"><%= link_to 'Edit', edit_challenge_submission_path(@challenge.id, submission.id) %></p></small>
            <p class="card-title"><h3>By: <%= link_to submission.user.username, submission.user %></h3></p>
            <p class="card-text"><a href="<%= submission.url %>"> <%=submission.url %></a></p>
            <p class="card-text">Score: <%= submission.score %></p>
            <p class="card-text"><small class="text-muted"><!-- TODO: submission uploaded --></small></p>
          </div>
        </a>
      </div>
    <% end %>
  </div>
</div>

<script>
  $('.submission').click(function(){
    window.location.href = $(this).data('url');
  });
</script>

<%# " | " + link_to("+1", :action => 'upvote', :id => @challenge.id) %>
